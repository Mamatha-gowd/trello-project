(this["webpackJsonptrello-react"]=this["webpackJsonptrello-react"]||[]).push([[0],{38:function(t,e,n){t.exports=n(52)},43:function(t,e,n){},44:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(17),s=n.n(r),o=(n(43),n(23)),i=n(19),l=(n(44),n(7)),u=n(8),d=n(10),h=n(9),p=function(t){var e=t.board;return c.a.createElement("div",null,c.a.createElement(o.b,{to:"/boards/".concat(e.boardId)},c.a.createElement("div",{className:"btn rounded bg-primary text-white m-2 mt-5"},c.a.createElement("div",null,e.boardName))))},m=n(4),f=n.n(m),k=n(11),b="52615ebb3fb8336a474fd1ab9ec8ae053f5321433e1cbfefefb33a1779816ba9",v="23fe0646c0d1253eb430f7e02db925a0";function y(){return(y=Object(k.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/members/me/boards?key=".concat(v,"&token=").concat(b),{method:"GET"});case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=Object(k.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/boards/".concat(e,"/lists?key=").concat(v,"&token=").concat(b),{method:"GET"});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e){return w.apply(this,arguments)}function w(){return(w=Object(k.a)(f.a.mark((function t(e,n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/lists?name=".concat(e,"&idBoard=").concat(n,"&key=").concat(v,"&token=").concat(b),{method:"POST"});case 2:return a=t.sent,t.next=5,a.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return j.apply(this,arguments)}function j(){return(j=Object(k.a)(f.a.mark((function t(e,n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/cards?idList=".concat(n,"&name=").concat(e,"&key=").concat(v,"&token=").concat(b),{method:"POST"});case 2:return a=t.sent,t.next=5,a.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(k.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/lists/".concat(e,"/cards?key=").concat(v,"&token=").concat(b),{method:"GET"});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return(I=Object(k.a)(f.a.mark((function t(e,n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/checklists?idCard=".concat(e,"&name=").concat(n,"&key=").concat(v,"&token=").concat(b),{method:"POST"});case 2:return a=t.sent,t.next=5,a.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e){return S.apply(this,arguments)}function S(){return(S=Object(k.a)(f.a.mark((function t(e,n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/checklists/".concat(e,"/checkItems?name=").concat(n,"&key=").concat(v,"&token=").concat(b),{method:"POST"});case 2:return a=t.sent,t.next=5,a.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=Object(k.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/cards/".concat(e,"/checklists?key=").concat(v,"&token=").concat(b),{method:"GET"});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t,e,n){return D.apply(this,arguments)}function D(){return(D=Object(k.a)(f.a.mark((function t(e,n,a){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/cards/".concat(e.idCard,"/checkItem/").concat(n.id,"?state=").concat("complete"===a?"incomplete":"complete","&key=").concat(v,"&token=").concat(b),{method:"PUT"});case 2:return c=t.sent,t.next=5,c.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,e,n){return M.apply(this,arguments)}function M(){return(M=Object(k.a)(f.a.mark((function t(e,n,a){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/cards/".concat(e,"/checkItem/").concat(n,"?name=").concat(a,"&key=").concat(v,"&token=").concat(b),{method:"PUT"});case 2:return c=t.sent,t.next=5,c.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t,e){return P.apply(this,arguments)}function P(){return(P=Object(k.a)(f.a.mark((function t(e,n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/checklists/".concat(e,"/checkitems/").concat(n,"?key=").concat(v,"&token=").concat(b),{method:"DELETE"});case 2:return a=t.sent,t.next=5,a.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return(U=Object(k.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/checklists/".concat(e,"?key=").concat(v,"&token=").concat(b),{method:"DELETE"});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(t){return z.apply(this,arguments)}function z(){return(z=Object(k.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.trello.com/1/cards/".concat(e,"?key=").concat(v,"&token=").concat(b),{method:"DELETE"});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var G=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={boards:[]},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(){return y.apply(this,arguments)})().then((function(e){var n=e.map((function(t){return{boardId:t.id,boardName:t.name}}));console.log(n),t.setState({boards:n})}))}},{key:"render",value:function(){var t=this.state.boards.map((function(t){return c.a.createElement(p,{key:t.boardId,board:t})}));return c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-start board "},t))}}]),n}(a.Component),H=n(18),J=(n(26),function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={input:""},t.inputText=function(e){return t.setState({input:e.target.value})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state.input,e=this.props,n=e.onAdd,a=e.onDelete;return c.a.createElement("form",null,c.a.createElement("input",{type:"text",className:"form-control ",placeholder:"enter name",onChange:this.inputText,value:t}),c.a.createElement("button",{className:"btn btn-success mr-4 mt-2",onClick:function(e){return n(e,t)}},"Add"),c.a.createElement("button",{className:"btn btn-light",onClick:function(t){return a(t)}},"X"))}}]),n}(a.Component)),W=function(t){var e=t.data,n=t.openModal;return c.a.createElement("button",{className:"btn btn-light w-100 my-2 p-2 rounded d-flex justify-content-between align-items-center flex-wrap",onClick:function(t){return n(t,e)}},c.a.createElement("div",{className:"text-left",style:{whiteSpace:"normal",width:"90%"}},t.data.cardName),c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-light p-1 rounded delete-card ",onClick:function(n){t.onDelete(n,e.cardId)}},"\xd7")))},F=(n(51),n(55)),K=n(56);function X(t){return c.a.createElement("form",null,c.a.createElement("input",{type:"text",className:"form-control ",placeholder:"enter name",onChange:t.handleChange,value:t.input}),c.a.createElement("button",{className:"btn btn-success mr-3 mt-2",onClick:function(e){return t.onAdd(e,t.input)}},"update"),c.a.createElement("button",{className:"btn btn-light mt-2",onClick:function(){return t.handleCancel()}},"\xd7"))}var $=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={checkItemstate:t.props.checkitem.state,updateCheckitem:!1,input:t.props.checkitem.name},t.handleCheckItemState=function(e,n){N(n,e,t.state.checkItemstate).then((function(e){t.setState((function(t){return{checkItemstate:"complete"===t.checkItemstate?"incomplete":"complete"}}))}))},t.handleUpdateCheckItem=function(e){e.preventDefault(),T(t.props.checklist.idCard,t.props.checkitem.id,t.state.input).then((function(e){t.setState({updateCheckitem:!1})}))},t.handleChange=function(e){t.setState({input:e.target.value})},t.handleCancel=function(){t.setState({updateCheckitem:!1})},t.handleUpdateCheckitem=function(){t.setState({updateCheckitem:!0})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"d-flex justify-content-between align-items-center py-2 px-3 mt-3 rounded"},c.a.createElement("input",{type:"checkbox",checked:"complete"===this.state.checkItemstate,onChange:function(){return t.handleCheckItemState(t.props.checkitem,t.props.checklist)}}),c.a.createElement("div",{style:{width:"90%"},onClick:this.handleUpdateCheckitem},this.state.updateCheckitem?c.a.createElement(X,{onAdd:this.handleUpdateCheckItem,handleCancel:this.handleCancel,handleChange:this.handleChange,input:this.state.input}):c.a.createElement("label",null,this.state.input)),c.a.createElement("button",{className:"btn btn-light p-1 align-middle checkitem",onClick:function(){return t.props.handleDeleteCheckItem(t.props.checkitem.id)}},"\xd7"))}}]),n}(a.Component),q=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={checkItems:t.props.checklist.checkItems,addCheckItembtn:!1},t.handleDeleteCheckItem=function(e){var n=t.state.checkItems.filter((function(t){return t.id!==e}));L(t.props.checklist.id,e).then((function(e){t.setState({checkItems:n})}))},t.handleShowCheckItem=function(){t.setState({addCheckItembtn:!0})},t.handleAddCheckItem=function(e,n){e.preventDefault(),O(t.props.checklist.id,n).then((function(e){var n=[].concat(Object(H.a)(t.state.checkItems),[e]);t.setState({checkItems:n})}))},t.handleCancelCheckItem=function(e){e.preventDefault(),t.setState({addCheckItembtn:!1})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"my-3"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},this.props.checklist.name,c.a.createElement("button",{className:"btn btn-light",onClick:function(e){return t.props.handleDeleteChecklist(e,t.props.checklist.id)}},"Delete")),c.a.createElement("div",{className:"py-2"},this.state.checkItems.map((function(e){return c.a.createElement($,{key:e.id,checkitem:e,checklist:t.props.checklist,handleDeleteCheckItem:t.handleDeleteCheckItem})}))),this.state.addCheckItembtn?c.a.createElement(J,{onAdd:this.handleAddCheckItem,onDelete:this.handleCancelCheckItem}):c.a.createElement("div",{className:"btn px-2 py-0 d-flex ",onClick:this.handleShowCheckItem},"Add item"))}}]),n}(a.Component),Q=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).handleAddChecklist=function(t,e){t.preventDefault(),function(t,e){return I.apply(this,arguments)}(a.props.modal.cardId,e).then((function(t){var e=[].concat(Object(H.a)(a.state.checklist),[t]);a.setState({checklist:e})}))},a.showAddChecklist=function(){a.setState({addChecklist:!0})},a.cancelAddChecklist=function(t){console.log(t),t.preventDefault(),a.setState({addChecklist:!1})},a.handleDeleteChecklist=function(t,e){t.preventDefault(),function(t){return U.apply(this,arguments)}(e).then((function(t){var n=a.state.checklist.filter((function(t){return t.id!==e}));a.setState({checklist:n})}))},a.state={show:a.props.show,checklist:[],addChecklist:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(t){return A.apply(this,arguments)})(this.props.modal.cardId).then((function(e){console.log(e),t.setState({checklist:e})}))}},{key:"render",value:function(){var t=this,e=this.state.addChecklist;return console.log(this.state.checklist),c.a.createElement(F.a,{show:this.props.show,onHide:this.props.removeModal},c.a.createElement(F.a.Header,{closeButton:!0},c.a.createElement(F.a.Title,null,this.props.modal.cardName)),c.a.createElement(F.a.Body,null,e?c.a.createElement(J,{onAdd:this.handleAddChecklist,onDelete:this.cancelAddChecklist}):c.a.createElement("div",{className:"add-checklist",onClick:this.showAddChecklist},c.a.createElement("button",{className:"btn btn-light"},"Add checklist")),c.a.createElement("div",{className:"checklist mt-2"},this.state.checklist.map((function(e){return c.a.createElement(q,{key:e.id,checklist:e,handleDeleteChecklist:t.handleDeleteChecklist})})))),c.a.createElement(F.a.Footer,null,c.a.createElement(K.a,{variant:"secondary",onClick:this.props.removeModal},"Close")))}}]),n}(a.Component),R=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={addCard:!1,show:!1,cards:[],modal:{}},t.showAddCard=function(){t.setState({addCard:!0})},t.cancelAddCard=function(e){e.preventDefault(),t.setState({addCard:!1})},t.handleDeleteCard=function(e,n){e.preventDefault(),B(n).then((function(e){var a=t.state.cards.filter((function(t){return t.cardId!==n}));t.setState({cards:a})}))},t.handleAddCard=function(e,n){e.preventDefault(),t.setState({addCard:!0}),x(n,t.props.list.listId).then((function(e){var n=[].concat(Object(H.a)(t.state.cards),[{cardId:e.id,cardName:e.name}]);t.setState({cards:n})}))},t.openModal=function(e,n){e.target.className.includes("delete-card")||t.setState({show:!0,modal:n})},t.removeModal=function(e){t.setState({show:!1})},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(t){return g.apply(this,arguments)})(this.props.list.listId).then((function(e){var n=e.map((function(t){return{cardId:t.id,cardName:t.name}}));t.setState({cards:n})}))}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"rounded p-2 ml-2 mt-3 mr-2 d-inline-block todo-list",style:{backgroundColor:"lightgrey",fontSize:"1.5em",width:"12em",boxSizing:"border-box"}},this.props.list.listName,this.state.cards.map((function(e){return c.a.createElement(W,{onDelete:t.handleDeleteCard,data:e,key:e.cardId,openModal:t.openModal})})),this.state.show?c.a.createElement(Q,{removeModal:this.removeModal,show:this.state.show,data:this.state.cards,modal:this.state.modal}):null,c.a.createElement("div",{className:"card-footer bg-light"},this.state.addCard?c.a.createElement(J,{onAdd:this.handleAddCard,onDelete:this.cancelAddCard}):c.a.createElement("div",{className:"btn px-2 py-0 d-flex add-card",onClick:this.showAddCard},"Add another card")))}}]),n}(a.Component),V=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={lists:[],addlist:!1,boardId:t.props.match.params.id},t.showAddList=function(){t.setState({addlist:!0})},t.cancelAddList=function(e){e.preventDefault(),t.setState({addlist:!1})},t.handleAddList=function(e,n){e.preventDefault(),t.setState({addlist:!0}),E(n,t.state.boardId).then((function(e){var n=[].concat(Object(H.a)(t.state.lists),[{listId:e.id,listName:e.name}]);t.setState({lists:n})}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;(function(t){return C.apply(this,arguments)})(this.state.boardId).then((function(e){var n=e.map((function(t){return{listId:t.id,listName:t.name}}));t.setState({lists:n})}))}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"align-items-start list-container board",style:{whiteSpace:"wrap",height:"100vh"}},this.state.lists.map((function(e){return c.a.createElement(R,{list:e,key:e.listId,userKey:t.state.key,token:t.state.token})})),c.a.createElement("div",{style:{display:"inline-block",width:"15em",marginTop:"15px"}},this.state.addlist?c.a.createElement(J,{onAdd:this.handleAddList,onDelete:this.cancelAddList}):c.a.createElement("div",{className:"rounded p-2 mr-2 d-inline-block ",style:{backgroundColor:"lightgrey",fontSize:"1.5em",width:"10em",boxSizing:"border-box"}},c.a.createElement("button",{className:"btn text-black listbutton",style:{backgroundColor:"lightgrey"},onClick:this.showAddList},"+ Add another list"))))}}]),n}(a.Component);var Y=function(){return c.a.createElement("div",null,c.a.createElement(o.a,null,c.a.createElement(i.a,{exact:!0,path:"/",component:G}),c.a.createElement(i.a,{path:"/boards/:id",component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.c3b3802e.chunk.js.map